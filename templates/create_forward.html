{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% import 'macros/form_macro.html' as f %}

{% block title %}Request Forwarder{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h2>Request forwarder </h2>
    </div>
    <h3>Input url: {{ host }}/create-forward/{{ proxy_uuid }} </h3>
    <div class="ui grid container">
        <div class="eight wide computer sixteen wide mobile centered column">
            <h2 class="ui dividing header">Add an outgoing url: </h2>
          {% set flashes = {
              'error':   get_flashed_messages(category_filter=['form-error']),
              'warning': get_flashed_messages(category_filter=['form-check-email']),
              'info':    get_flashed_messages(category_filter=['form-info']),
              'success': get_flashed_messages(category_filter=['form-success'])
          } %}

          {{ f.begin_form(form, flashes) }}
          <div class="two fields">
                          {{ f.render_form_field(form.outgoing_url) }}
          </div>
          </div>
            </div>
        {{ f.form_message(flashes['error'], header='Something went wrong.', class='error') }}
        {{ f.form_message(flashes['warning'], header='Check your email.', class='warning') }}
        {{ f.form_message(flashes['info'], header='Information', class='info') }}
        {{ f.form_message(flashes['success'], header='Success!', class='success') }}

        {{ f.render_form_field(form.submit) }}
        {{ f.end_form(form) }}
</div>
{% endblock %}
